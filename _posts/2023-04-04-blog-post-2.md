---
title: 'Tesing blog'
date: 2023-04-04
permalink: /posts/2023/04/blog-post-2/
tags:
  - Bayesian MCMC
  - bayes.js
  - Statistical Distributions
  - AmwgSampler
  - plotly
---

This blog heavily relies on Bååth’s library and his implementations. I appreciate his efforts to build a web app for Bayesian data analysis in JavaScript. Here I made some small adjustments by **(1) including the data generating process by using**[ **d3.js**](https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js)**; (2) simultaneously updating the posterior distributions with the true parameters indicated by red vertical lines; (3) adding buttons to display messages and warnings**. These changes are purely based on my personal tastes since I want to simulate data with valid parameters from a probabilistic distribution and check the performance of the posterior estimates against the original parameter values. With some help from ChatGPT, I implemented the web app and deployed it inside my personal webpage powered by Jekyll. Here is the web app for Bayesian MCMC for Normal distributions. If you prefer a standalone version, pls check[ this page](https://jakejing.github.io/bayes_mcmc_plot/).

  <head>
    <title>Normal Distribution Simulator</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  </head>
  <body>
    <div class="container">
      <h1>Normal Distribution Simulator</h1>
      <form>
        <label for="mu">Mean (mu):</label>
        <input type="number" id="mu" name="mu" required />

        <label for="sd">Standard Deviation (sd):</label>
        <input type="number" id="sd" name="sd" required />
    
        <label for="n">Number of Data Points (n):</label>
        <input type="number" id="n" name="n" required />
    
        <button type="button" id="simulate-btn" onclick="simulate()">
          Simulate
        </button>
      </form>
      <div id="plot"></div>
    </div>
    <script>
    function gaussian(mu, sd) {
  var x1, x2, w;
  do {
    x1 = 2 * Math.random() - 1;
    x2 = 2 * Math.random() - 1;
    w = x1 * x1 + x2 * x2;
  } while (w >= 1);
  w = Math.sqrt((-2 * Math.log(w)) / w);
  return mu + sd * x1 * w;
}

// Function to simulate a normal distribution with user-defined parameters
function simulate() {
  // Get input values
  var mu = parseFloat(document.getElementById("mu").value);
  var sd = parseFloat(document.getElementById("sd").value);
  var n = parseInt(document.getElementById("n").value);

  // Generate data
  var data = [];
  for (var i = 0; i < n; i++) {
    data.push(gaussian(mu, sd));
  }

  // Plot histogram
  var binSize = 1;
  var histogram = {};
  for (var i = 0; i < data.length; i++) {
    var bin = Math.round(data[i] / binSize);
    if (histogram[bin]) {
      histogram[bin]++;
    } else {
      histogram[bin] = 1;
    }
  }
  var histogramArray = [];
  for (var bin in histogram) {
    histogramArray.push([parseFloat(bin) * binSize, histogram[bin]]);
  }
  histogramArray.sort(function (a, b) {
    return a[0] - b[0];
  });
  var x = histogramArray.map(function (item) {
    return item[0];
  });
  var y = histogramArray.map(function (item) {
    return item[1];
  });
  var data = [
    {
      x: x,
      y: y,
      type: "bar",
      marker: {
        color: "rgb(26, 118, 255)",
        line: {
          color: "rgb(8,48,107)",
          width: 1.5,
        },
      },
    },
  ];
  Plotly.newPlot("plot", data);
}

// Bind simulate function to button click
document.getElementById("simulate-btn").addEventListener("click", simulate);
    </script>
  </body>
